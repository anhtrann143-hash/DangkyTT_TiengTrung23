<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Các vị trí thực tập - Tiếng Trung K23</title>
    <!-- Tải Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Sử dụng font Inter */
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Thêm font Inter từ Google Fonts */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

        /* Hiệu ứng chuyển động mượt mà cho phần chi tiết */
        .company-details {
            transition: all 0.3s ease-in-out;
            max-height: 0;
            overflow: hidden;
        }
        .company-card.open .company-details {
            max-height: 1000px;
            padding-top: 1rem; /* pt-4 */
            padding-bottom: 1rem; /* pb-4 */
        }
        @media (min-width: 768px) { /* md: */
            .company-card.open .company-details {
                padding-top: 1.25rem; /* md:pt-5 */
                padding-bottom: 1.25rem; /* md:pb-5 */
            }
        }
        .chevron {
            transition: transform 0.3s ease-in-out;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800 p-4 sm:p-6 md:p-8">

    <div class="max-w-4xl mx-auto">
        <header class="mb-6 md:mb-8 text-center">
            <h1 class="text-3xl sm:text-4xl font-bold text-blue-700">Các Vị Trí Thực Tập Tốt Nghiệp</h1>
            <p class="text-lg sm:text-xl text-gray-600 mt-2">Tiếng Trung K23</p>
        </header>

        <!-- Vùng chứa danh sách công ty -->
        <main id="company-list" class="space-y-4">
            <!-- Dữ liệu công ty sẽ được chèn vào đây bởi JavaScript -->
        </main>
    </div>

    <script>
        // Dữ liệu doanh nghiệp được trích xuất từ tệp CSV
        const companies = [
            {
                name: "Wistron Infocomm",
                field: "Sản xuất, điện, điện tử",
                address: "KCN Đồng Văn III, Hà Nam",
                positions: "- Trợ lý đào tạo\n- Nhân viên hành chính\n- Trợ lý dự án\n- Nhân viên chuyển đổi kỹ thuật\n- Nhân viên thu mua\n- Nhân viên kế hoạch sản xuất PMC\n- Nhân viên chất lượng\n- Nhân viên NPI\n- Trợ lý bộ phận",
                support: "8.000.000 VNĐ/tháng\nXe đưa đón HN - Hà Nam hàng ngày\nKhông có KTX",
                notes: "",
                jdLink: "https://docs.google.com/spreadsheets/d/1e88x1MWwy06F9BnnRv_MP0dFDEsT7llj/edit?usp=drive_link&ouid=116108997101717510836&rtpof=true&sd=true"
            },
            {
                name: "DKE",
                field: "Giấy điện tử",
                address: "KCN Cẩm Khê, Phú Thọ",
                positions: "TTS Quản lý",
                support: "8.000.000 VNĐ/tháng (Chưa tăng ca); \nCó KTX, xe đưa đón hàng ngày. \nTổng thu nhập 11-14 triệu VNĐ (TTS nhận 85% tổng thu nhập)",
                notes: "",
                jdLink: "https://docs.google.com/spreadsheets/d/11yi1739APGaEsQtK-J__vhK_ms4Opg2p/edit?usp=drive_link&ouid=116108997101717510836&rtpof=true&sd=true"
            },
            {
                name: "Luxshare-ICT",
                field: "Sản xuất, điện, điện tử",
                address: "KCN Quang Châu, KCN Vân Trung - Bắc Giang",
                positions: "- Trợ lý kỹ sư Kiểm tra thiết bị\n- Trợ lý kỹ sư phần cứng\n- Thu mua\n- Đánh giá chất lượng PQE",
                support: "Lương CB 5.000.000 + Phụ cấp\nCó KTX & Xe đưa đón hàng ngày\nTổng thu nhập 9-11 triệu VNĐ",
                notes: "",
                jdLink: "https://docs.google.com/spreadsheets/d/1Ta6i-H4rgdYcoTsY9wCxNi1Fo6J8EAj5/edit?usp=drive_link&ouid=116108997101717510836&rtpof=true&sd=true"
            },
            {
                name: "Pegatron",
                field: "Sản xuất, điện, điện tử",
                address: "KKT Đình Vũ, Hải Phòng",
                positions: "Trợ lý phiên dịch xưởng",
                support: "Mức lương: 5.600.000 VNĐ/tháng (cơ bản) + phụ cấp.\nCó KTX và xe đưa đón.\nTổng thu nhập khoảng 8-10 triệu VNĐ.",
                notes: "",
                jdLink: ""
            },
            {
                name: "Goertek",
                field: "Sản xuất, điện, điện tử",
                address: "KCN Quế Võ, Bắc Ninh",
                positions: "- Nhân viên vận hành\n- Quản lý sản xuất\n- Trợ lý bộ phận,\n- QA, QC, ...", // Cập nhật
                support: "Tổng thu nhập (09-12 triệu VND/tháng)\nCó Nhà ở NV, xe đưa đón miễn phí", // Cập nhật
                notes: "",
                jdLink: "https://docs.google.com/document/d/1-N7GMo8Iblf4pfI9FqsCMJnzceMR34k5/edit?usp=drive_link&ouid=116108997101717510836&rtpof=true&sd=true"
            },
            {
                name: "Thực tập tại Đài Loan",
                field: "Nhà hàng - Khách sạn", // Cập nhật
                address: "Đài Loan",
                positions: "- Nhân viên F&B\n- Nhân viên buồng phòng\n- Nhân viên Lễ tân", // Cập nhật
                support: "Thu nhập tối thiểu 18 triệu/tháng\nMiễn phí ăn 2 bữa các ngày đi làm, ở miễn phí tại Khách sạn", // Cập nhật
                notes: "Chương trình có phí", // Cập nhật
                jdLink: "" // Vẫn không có link JD
            }
        ];

        /**
         * Trích xuất tên tỉnh/thành phố từ địa chỉ đầy đủ.
         * @param {string} fullAddress Địa chỉ đầy đủ.
         * @returns {string} Tên tỉnh/thành phố.
         */
        function extractProvince(fullAddress) {
            // Xử lý trường hợp đặc biệt
            if (fullAddress === "Đài Loan") return "Đài Loan";
            
            const parts = fullAddress.split(',');
            if (parts.length > 0) {
                // Lấy phần cuối cùng và loại bỏ khoảng trắng
                let province = parts[parts.length - 1].trim();
                // Xử lý trường hợp đặc biệt như "Bắc Giang" từ file
                if (fullAddress.includes("Bắc Giang")) return "Bắc Giang";
                if (fullAddress.includes("Hà Nam")) return "Hà Nam";
                if (fullAddress.includes("Phú Thọ")) return "Phú Thọ";
                if (fullAddress.includes("Hải Phòng")) return "Hải Phòng";
                if (fullAddress.includes("Bắc Ninh")) return "Bắc Ninh";
                return province;
            }
            return fullAddress;
        }

        /**
         * Chuyển đổi chuỗi có ký tự xuống dòng thành danh sách HTML.
         * @param {string} text Chuỗi văn bản.
         * @returns {string} Chuỗi HTML với thẻ <br> hoặc <ul>.
         */
        function formatMultiLineText(text) {
            if (!text) return "<p class='text-gray-500'>Không có thông tin</p>";
            // Nếu bắt đầu bằng dấu gạch ngang, coi đó là danh sách
            if (text.trim().startsWith('-')) {
                return '<ul class="list-disc list-inside space-y-1">' +
                    text.split('\n')
                        .map(line => line.trim())
                        .filter(line => line)
                        .map(line => `<li>${line.replace(/^-/, '').trim()}</li>`)
                        .join('') +
                    '</ul>';
            }
            // Ngược lại, chỉ thay thế xuống dòng bằng <br>
            return text.split('\n')
                       .map(line => line.trim())
                       .filter(line => line)
                       .join('<br>');
        }

        // Lấy phần tử container
        const companyListContainer = document.getElementById('company-list');

        // Tạo và chèn HTML cho mỗi công ty
        companies.forEach(company => {
            const province = extractProvince(company.address);
            
            // Tạo phần tử thẻ công ty
            const card = document.createElement('div');
            card.className = 'company-card bg-white rounded-lg shadow-md overflow-hidden';

            // Tạo phần đầu thẻ (luôn hiển thị)
            const cardHeader = document.createElement('div');
            cardHeader.className = 'p-4 md:p-5 cursor-pointer hover:bg-gray-50 flex justify-between items-center';
            cardHeader.innerHTML = `
                <div>
                    <h2 class="text-lg md:text-xl font-semibold ${company.address === 'Đài Loan' ? 'text-red-600' : 'text-blue-600'}">${company.name}</h2>
                    <p class="text-gray-500 text-sm mt-1">${company.field}</p>
                    <p class="text-gray-700 font-medium mt-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline-block mr-1 -mt-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                          <path stroke-linecap="round" stroke-linejoin="round" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                        </svg>
                        ${province}
                    </p>
                    <!-- Link đăng ký được di chuyển lên đây -->
                    <a href="https://forms.gle/mjN8W8jnbh4Ppyh99" target="_blank" rel="noopener noreferrer" onclick="event.stopPropagation()" class="inline-block bg-green-100 text-green-700 text-xs font-semibold py-1 px-3 rounded-full hover:bg-green-200 transition-colors duration-200 mt-3">
                        Đăng ký ngay
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 inline-block ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                        </svg>
                    </a>
                </div>
                <div class="chevron text-gray-400">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
                    </svg>
                </div>
            `;

            // Tạo phần chi tiết (ẩn ban đầu)
            const cardDetails = document.createElement('div');
            cardDetails.className = 'company-details px-4 md:px-5 bg-white border-t border-gray-100';
            cardDetails.innerHTML = `
                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <h3 class="font-semibold text-gray-700 mb-2">Vị trí tuyển dụng:</h3>
                        ${company.jdLink ? `
                            <a href="${company.jdLink}" target="_blank" rel="noopener noreferrer" class="inline-block text-sm text-blue-500 hover:text-blue-700 hover:underline mb-2">
                                Xem mô tả công việc chi tiết
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 inline-block ml-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                                </svg>
                            </a>
                        ` : ''}
                        <div class="text-gray-600 text-sm">${formatMultiLineText(company.positions)}</div>
                    </div>
                    <div>
                        <h3 class="font-semibold text-gray-700 mb-2">Mức hỗ trợ & Đãi ngộ:</h3>
                        <div class="text-gray-600 text-sm">${formatMultiLineText(company.support)}</div>
                    </div>
                    ${company.notes ? `
                    <div class="md:col-span-2">
                        <h3 class="font-semibold text-gray-700 mb-2">Ghi chú:</h3>
                        <div class="text-gray-600 text-sm">${formatMultiLineText(company.notes)}</div>
                    </div>
                    ` : ''}
                    
                    <!-- Link đăng ký đã được di chuyển ra ngoài -->
                </div>
            `;

            // Thêm sự kiện click để mở/đóng chi tiết
            cardHeader.addEventListener('click', () => {
                card.classList.toggle('open');
            });

            // Gắn các phần vào thẻ
            card.appendChild(cardHeader);
            card.appendChild(cardDetails);

            // Gắn thẻ vào container
            companyListContainer.appendChild(card);
        });

    </script>
</body>
</html>
